<odoo>

	<template id="new_style_assets" name="new style assets" inherit_id="web.assets_frontend">
        <xpath expr="." position="inside">
            <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
            <link rel="stylesheet" type="text/css" href="/appointment_booking/static/calendar/scss/calendar.scss" />
            <script type="text/javascript" src="/appointment_booking/static/calendar/js/calendar.js"></script>
        </xpath>
    </template>

	<template id="calendar_room_day" name="Room Day View">

		<t t-call-assets="web.assets_common"/>
        <t t-call-assets="web.assets_frontend"/>

		<div class="calendar">
			<t t-set="room_objects" t-value="request.env['room.booking'].search([])" />
			<t t-set="info_objects" t-value="request.env['booking.info'].search([])" />
			<t t-set="time_from" t-value="room_objects[0].room_time_slot[0].time_from" />
			<t t-set="time_to" t-value="room_objects[0].room_time_slot[0].time_to" />
			<t t-set="total_time_length" t-value="str(len(range(int(time_from) - 1, int(time_to) + 1)))" />

			<div class="left_box">
				<div class="appointment_heading">
					<h5>CalendarView</h5>
				</div>
				<div class="rooms">
					<div class="room">
						<p>Appointment Rooms</p>
					</div>
				</div>
				<t t-foreach="room_objects" t-as="room_object">
					<div class="rooms">
						<div class="room">
							<p><t t-esc="room_object.name"/></p>
						</div>
					</div>
				</t>
			</div>

			<div class="right_box">
				<div class="header_right_box">
					<div class="header_right_gridbox">
						<div class="current_date_box">
							<div class="arrow_box">
								<a href="/rooms/day/previous">
									<img src="/appointment_booking/static/calendar/images/left.png" class="float-right" alt="" height="30px" />
								</a>
							</div>
							<div class="current_date">
								<h5 class="pt-4 text-center"><t t-esc="title_current_date" /></h5>
							</div>
							<div class="arrow_box">
								<a href="/rooms/day/next">
									<img src="/appointment_booking/static/calendar/images/right.png" alt="" height="30px" />
								</a>
							</div>
						</div>
						<form action="/rooms/day/search" class="pull-right date-padding" method="post">
							<div class="ml-3 searchbar_box">
								<div class="form-group mr-2">
									<input type="text" name="calendar_date_search" class="form-control calendar_input pull-left" id="datepicker" readonly="readonly" placeholder="Select Date.." />
								</div>
								<div class="search_btn">
									<button type="submit">
										<img src="/appointment_booking/static/calendar/images/search.png" alt="" />
									</button>
								</div>
							</div>
						</form>
						<div class="calendar_view_btns">
							<div class="calendar_view_btn">
								<a href="/salespersons/day" >salespersons</a>
							</div>
							<div class="calendar_view_btn ">
								<a class="active_page" href="/rooms/day">rooms</a>
							</div>
							<div class="calendar_view_btn ">
								<i class="fa fa-circle p-2 small"></i>
							</div>
							<div class="calendar_view_btn ">
								<a class="active_page" href="/rooms/day" >day</a>
							</div>
							<div class="calendar_view_btn">
								<a href="/rooms/week">week</a>
							</div>
						</div>
					</div>
				</div>

				<div class="main_right_box">
					<div t-att-class="'booking_box booking_box' + total_time_length">

						<div class="booking_time_gridbox">
							<t t-foreach="range(int(time_from) - 1, int(time_to) + 1)" t-as="time_range" >
								<div class="booking_time_box">
									<t t-if="int(time_range) == int(time_to)">
										<div class="booking_time booking_time_border booking_time_br">
											<t t-if="(time_range/2) &lt; 10">
												<t t-set="time_print" t-value="'0' + str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
											<t t-else="">
												<t t-set="time_print" t-value="str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
										</div>
									</t>
									<t t-else="">
										<div class="booking_time booking_time_border">
											<t t-if="(time_range/2) &lt; 10">
												<t t-set="time_print" t-value="'0' + str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
											<t t-else="">
												<t t-set="time_print" t-value="str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
										</div>
									</t>
								</div>
							</t>
						</div>

						<t t-foreach="room_objects" t-as="room_object">
							<div class="booking_record_box">
								<t t-foreach="info_objects" t-as="info_object">
									<t t-set='margin_value' t-value='str((int(info_object.time_from) + 1) - int(room_object.room_time_slot[0].time_from))'/>
									<t t-if="room_object.code == info_object.room_code and str(info_object.date) == str(current_date)">
										<div t-att-class="'booking_record time-margin'+ margin_value + ' time-width' + info_object.total_appointment_time">
											<p><t t-esc="info_object.name" /> <t t-esc="total_time_length" /> </p>
										</div>
									</t>
								</t>
							</div>
						</t>

					</div>
				</div>

			</div>

			<div class="legend_box">
				<span class="legend">
					<span class="legend_color legend_color_pending"></span>
					<span class="legend_text">Pending</span>
				</span>
				<span class="legend">
					<span class="legend_color legend_color_confirmed"></span>
					<span class="legend_text">Confirmed</span>
				</span>
			</div>

		</div>
	</template>

	<template id="calendar_room_week" name="Room Week View">

		<t t-call-assets="web.assets_common"/>
        <t t-call-assets="web.assets_frontend"/>

		<div class="calendar">
			<t t-set="room_objects" t-value="request.env['room.booking'].search([])" />
			<t t-set="info_objects" t-value="request.env['booking.info'].search([])" />
			<t t-set="time_from" t-value="room_objects[0].room_time_slot[0].time_from" />
			<t t-set="time_to" t-value="room_objects[0].room_time_slot[0].time_to" />
			<t t-set="total_time_length" t-value="str(len(range(int(time_from) - 1, int(time_to) + 1)))" />

			<div class="left_box">
				<div class="appointment_heading">
					<h5>CalendarView</h5>
				</div>
				<div class="rooms">
					<div class="room">
						<p>Appointment Rooms</p>
					</div>
				</div>
				<t t-foreach="room_objects" t-as="room_object">
					<div class="rooms">
						<div class="room">
							<p><t t-esc="room_object.name"/></p>
						</div>
					</div>
				</t>
			</div>

			<div class="right_box">
				<div class="header_right_box">
					<div class="header_right_gridbox_week">
						<div class="current_date_box_week">
							<div class="arrow_box">
								<a href="/rooms/week/previous">
									<img src="/appointment_booking/static/calendar/images/left.png" class="float-right" alt="" height="30px" />
								</a>
							</div>
							<div class="current_date">
								<h5 class="pt-4 text-center">
									<t t-esc="start_week" /> to <t t-esc="end_week" /> , <t t-esc="datetime.datetime(current_year, current_month, 1, 19, 53, 42).strftime('%b-%Y')" />
								</h5>
							</div>
							<div class="arrow_box">
								<a href="/rooms/week/next">
									<img src="/appointment_booking/static/calendar/images/right.png" alt="" height="30px" />
								</a>
							</div>
						</div>
						<form action="/rooms/week/search" class="pull-right date-padding" method="post">
							<div class="ml-3 searchbar_box">
								<div class="form-group mr-2">
									<input type="text" name="calendar_date_search" class="form-control calendar_input pull-left" id="datepicker" readonly="readonly" placeholder="Select Date.." />
								</div>
								<div class="search_btn">
									<button type="submit">
										<img src="/appointment_booking/static/calendar/images/search.png" alt="" />
									</button>
								</div>
							</div>
						</form>
						<div class="calendar_view_btns">
							<div class="calendar_view_btn">
								<a href="/salespersons/week" >salespersons</a>
							</div>
							<div class="calendar_view_btn ">
								<a class="active_page" href="/rooms/week">rooms</a>
							</div>
							<div class="calendar_view_btn ">
								<i class="fa fa-circle p-2 small"></i>
							</div>
							<div class="calendar_view_btn ">
								<a href="/rooms/day" >day</a>
							</div>
							<div class="calendar_view_btn">
								<a class="active_page" href="/rooms/week">week</a>
							</div>
						</div>
					</div>
				</div>

				<div class="main_right_box">
					<div class="booking_box">
						<div class="booking_record_flex">
							<t t-foreach="current_week" t-as="week_day">
								<t t-if="week_day != 0">
									<div class="booking_box_container">
									<div class="booking_time_gridbox">
									<div class="booking_weekday_box">
										<div class="booking_time">
											<t t-set="date_object" t-value="datetime.datetime(int(current_year), int(current_month), int(week_day), 19, 53, 42)" />
											<p class="pl-4"><t t-esc="date_object.strftime('%A')" /></p>
										</div>
									</div>
								</div>
									<div class="booking_record_container">
										<t t-foreach="room_objects" t-as="room_object">
										<div class="booking_record_box">
											<t t-set="current_date_object" t-value="datetime.datetime(int(current_year), int(current_month), int(week_day), 19, 53, 42).strftime('%Y-%m-%d')" />
											<t t-set="week_num" t-value="0" />
											<div t-att-class="'booking_week_record booking_record_width booking_record_width' + str(len(info_objects.search([('date','=',current_date_object), ('room_code','=',room_object.code)])))">
												<t t-foreach="info_objects" t-as="info_object">
													<t t-if="week_day != 0">
														<t t-if="str(info_object.date) == str(current_date_object) and room_object.code == info_object.room_code">
															<t t-set="week_num" t-value="week_num + 1" />
															<div t-att-class="'booking_record booking_record_ml' + str(week_num)">
																<p class="text-center">
																	<t t-esc="info_object.name" />, <span t-esc="str(int(info_object.time_from)/2).replace('5','3').replace('.',':') + '0'" /> - <span t-esc="str(int(info_object.time_to)/2).replace('5','3').replace('.',':') + '0'" />
																</p>
															</div>
														</t>
													</t>
												</t>
											</div>
										</div>
									</t>
									</div>
								</div>
								</t>
							</t>
						</div>
					</div>
				</div>

			</div>

			<div class="legend_box">
				<span class="legend">
					<span class="legend_color legend_color_pending"></span>
					<span class="legend_text">Pending</span>
				</span>
				<span class="legend">
					<span class="legend_color legend_color_confirmed"></span>
					<span class="legend_text">Confirmed</span>
				</span>
			</div>

		</div>
	</template>

	<template id="calendar_salespersons_day" name="Salespersons Day View">

		<t t-call-assets="web.assets_common"/>
        <t t-call-assets="web.assets_frontend"/>

		<div class="calendar">
			<t t-set="user_objects" t-value="request.env['res.users'].search([])" />
			<t t-set="room_objects" t-value="request.env['room.booking'].search([])" />
			<t t-set="info_objects" t-value="request.env['booking.info'].search([])" />
			<t t-set="time_from" t-value="room_objects[0].room_time_slot[0].time_from" />
			<t t-set="time_to" t-value="room_objects[0].room_time_slot[0].time_to" />
			<t t-set="total_time_length" t-value="str(len(range(int(time_from) - 1, int(time_to) + 1)))" />

			<div class="left_box">
				<div class="appointment_heading">
					<h5>CalendarView</h5>
				</div>
				<div class="rooms">
					<div class="room">
						<p>Appointment Rooms</p>
					</div>
				</div>
				<t t-foreach="user_objects" t-as="user_object">
					<div class="rooms">
						<div class="room">
							<p><t t-esc="user_object.name"/></p>
						</div>
					</div>
				</t>
			</div>

			<div class="right_box">
				<div class="header_right_box">
					<div class="header_right_gridbox">
						<div class="current_date_box">
							<div class="arrow_box">
								<a href="/salespersons/day/previous">
									<img src="/appointment_booking/static/calendar/images/left.png" class="float-right" alt="" height="30px" />
								</a>
							</div>
							<div class="current_date">
								<h5 class="pt-4 text-center"><t t-esc="title_current_date" /></h5>
							</div>
							<div class="arrow_box">
								<a href="/salespersons/day/next">
									<img src="/appointment_booking/static/calendar/images/right.png" alt="" height="30px" />
								</a>
							</div>
						</div>
						<form action="/salespersons/day/search" class="pull-right date-padding" method="post">
							<div class="ml-3 searchbar_box">
								<div class="form-group mr-2">
									<input type="text" name="calendar_date_search" class="form-control calendar_input pull-left" id="datepicker" readonly="readonly" placeholder="Select Date.." />
								</div>
								<div class="search_btn">
									<button type="submit">
										<img src="/appointment_booking/static/calendar/images/search.png" alt="" />
									</button>
								</div>
							</div>
						</form>
						<div class="calendar_view_btns">
							<div class="calendar_view_btn">
								<a class="active_page" href="/salespersons/day" >salespersons</a>
							</div>
							<div class="calendar_view_btn ">
								<a href="/rooms/day">rooms</a>
							</div>
							<div class="calendar_view_btn ">
								<i class="fa fa-circle p-2 small"></i>
							</div>
							<div class="calendar_view_btn ">
								<a class="active_page" href="/salespersons/day" >day</a>
							</div>
							<div class="calendar_view_btn">
								<a href="/salespersons/week">week</a>
							</div>
						</div>
					</div>
				</div>

				<div class="main_right_box">
					<div t-att-class="'booking_box booking_box' + total_time_length">

						<div class="booking_time_gridbox">
							<t t-foreach="range(int(time_from) - 1, int(time_to) + 1)" t-as="time_range" >
								<div class="booking_time_box">
									<t t-if="int(time_range) == int(time_to)">
										<div class="booking_time booking_time_border booking_time_br">
											<t t-if="(time_range/2) &lt; 10">
												<t t-set="time_print" t-value="'0' + str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
											<t t-else="">
												<t t-set="time_print" t-value="str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
										</div>
									</t>
									<t t-else="">
										<div class="booking_time booking_time_border">
											<t t-if="(time_range/2) &lt; 10">
												<t t-set="time_print" t-value="'0' + str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
											<t t-else="">
												<t t-set="time_print" t-value="str(time_range/2) + '0'"/>
												<p><t t-esc="time_print.replace('.',':').replace('5','3')"/></p>
											</t>
										</div>
									</t>
								</div>
							</t>
						</div>

						<t t-foreach="user_objects" t-as="user_object">
							<div class="booking_record_box">
								<t t-foreach="info_objects" t-as="info_object">
									<t t-set='margin_value' t-value='str((int(info_object.time_from) + 1) - int(room_objects[0].room_time_slot[0].time_from))'/>
									<t t-if="user_object.name == info_object.sales_person and str(info_object.date) == str(current_date)">
										<div t-att-class="'booking_record time-margin'+ margin_value + ' time-width' + info_object.total_appointment_time">
											<p><t t-esc="info_object.name" /> <t t-esc="total_time_length" /> </p>
										</div>
									</t>
								</t>
							</div>
						</t>

					</div>
				</div>

			</div>

			<div class="legend_box">
				<span class="legend">
					<span class="legend_color legend_color_pending"></span>
					<span class="legend_text">Pending</span>
				</span>
				<span class="legend">
					<span class="legend_color legend_color_confirmed"></span>
					<span class="legend_text">Confirmed</span>
				</span>
			</div>

		</div>
	</template>

	<template id="calendar_salespersons_week" name="Room Week View">

		<t t-call-assets="web.assets_common"/>
        <t t-call-assets="web.assets_frontend"/>

		<div class="calendar">
			<t t-set="user_objects" t-value="request.env['res.users'].search([])" />
			<t t-set="room_objects" t-value="request.env['room.booking'].search([])" />
			<t t-set="info_objects" t-value="request.env['booking.info'].search([])" />
			<t t-set="time_from" t-value="room_objects[0].room_time_slot[0].time_from" />
			<t t-set="time_to" t-value="room_objects[0].room_time_slot[0].time_to" />
			<t t-set="total_time_length" t-value="str(len(range(int(time_from) - 1, int(time_to) + 1)))" />

			<div class="left_box">
				<div class="appointment_heading">
					<h5>CalendarView</h5>
				</div>
				<div class="rooms">
					<div class="room">
						<p>Appointment Rooms</p>
					</div>
				</div>
				<t t-foreach="user_objects" t-as="user_object">
					<div class="rooms">
						<div class="room">
							<p><t t-esc="user_object.name"/></p>
						</div>
					</div>
				</t>
			</div>

			<div class="right_box">
				<div class="header_right_box">
					<div class="header_right_gridbox_week">
						<div class="current_date_box_week">
							<div class="arrow_box">
								<a href="/salespersons/week/previous">
									<img src="/appointment_booking/static/calendar/images/left.png" class="float-right" alt="" height="30px" />
								</a>
							</div>
							<div class="current_date">
								<h5 class="pt-4 text-center">
									<t t-esc="start_week" /> to <t t-esc="end_week" /> , <t t-esc="datetime.datetime(current_year, current_month, 1, 19, 53, 42).strftime('%b-%Y')" />
								</h5>
							</div>
							<div class="arrow_box">
								<a href="/salespersons/week/next">
									<img src="/appointment_booking/static/calendar/images/right.png" alt="" height="30px" />
								</a>
							</div>
						</div>
						<form action="/salespersons/week/search" class="pull-right date-padding" method="post">
							<div class="ml-3 searchbar_box">
								<div class="form-group mr-2">
									<input type="text" name="calendar_date_search" class="form-control calendar_input pull-left" id="datepicker" readonly="readonly" placeholder="Select Date.." />
								</div>
								<div class="search_btn">
									<button type="submit">
										<img src="/appointment_booking/static/calendar/images/search.png" alt="" />
									</button>
								</div>
							</div>
						</form>
						<div class="calendar_view_btns">
							<div class="calendar_view_btn">
								<a class="active_page" href="/salespersons/week" >salespersons</a>
							</div>
							<div class="calendar_view_btn ">
								<a href="/rooms/week">rooms</a>
							</div>
							<div class="calendar_view_btn ">
								<i class="fa fa-circle p-2 small"></i>
							</div>
							<div class="calendar_view_btn ">
								<a href="/salespersons/day" >day</a>
							</div>
							<div class="calendar_view_btn">
								<a class="active_page" href="/salespersons/week">week</a>
							</div>
						</div>
					</div>
				</div>

				<div class="main_right_box">
					<div class="booking_box">
						<div class="booking_record_flex">
							<t t-foreach="current_week" t-as="week_day">
								<t t-if="week_day != 0">
									<div class="booking_box_container">
									<div class="booking_time_gridbox">
									<div class="booking_weekday_box">
										<div class="booking_time">
											<t t-set="date_object" t-value="datetime.datetime(int(current_year), int(current_month), int(week_day), 19, 53, 42)" />
											<p class="pl-4"><t t-esc="date_object.strftime('%A')" /></p>
										</div>
									</div>
								</div>
									<div class="booking_record_container">
										<t t-foreach="user_objects" t-as="user_object">
											<div class="booking_record_box">
												<t t-set="current_date_object" t-value="datetime.datetime(int(current_year), int(current_month), int(week_day), 19, 53, 42).strftime('%Y-%m-%d')" />
												<t t-set="week_num" t-value="0" />
												<div t-att-class="'booking_week_record booking_record_width booking_record_width' + str(len(info_objects.search([('date','=',current_date_object), ('sales_person','=',user_object.name)])))">
													<t t-foreach="info_objects" t-as="info_object">
														<t t-if="week_day != 0">
															<t t-if="str(info_object.date) == str(current_date_object) and user_object.name == info_object.sales_person">
																<t t-set="week_num" t-value="week_num + 1" />
																<div t-att-class="'booking_record booking_record_ml' + str(week_num)">
																	<p class="text-center">
																		<t t-esc="info_object.name" />, <span t-esc="str(int(info_object.time_from)/2).replace('5','3').replace('.',':') + '0'" /> - <span t-esc="str(int(info_object.time_to)/2).replace('5','3').replace('.',':') + '0'" />
																	</p>
																</div>
															</t>
														</t>
													</t>
												</div>
											</div>
										</t>
									</div>
								</div>
								</t>
							</t>
						</div>
					</div>
				</div>

			</div>

			<div class="legend_box">
				<span class="legend">
					<span class="legend_color legend_color_pending"></span>
					<span class="legend_text">Pending</span>
				</span>
				<span class="legend">
					<span class="legend_color legend_color_confirmed"></span>
					<span class="legend_text">Confirmed</span>
				</span>
			</div>

		</div>
	</template>

</odoo>
